## Phần 1. Intervals query.  

```bash
  ads

 ```

Boosting query bao gồm:  

adsss


## Phần 2. Match.  

**2.1 Match**  
```bash
  GET products/_search
    {
      "query": {
        "match": {
          "name": {
            "query": "Product 21"
          }
        }
      }
    }


 ```

Match query trong Elasticsearch hoạt động như sau:

 - Match query cho phép tìm kiếm full text (toàn văn). Nó sẽ phân tích cụm từ tìm kiếm thành các term riêng lẻ.
 - Ví dụ cụm từ "quick brown fox" sẽ được phân tích thành các term: "Product", "21".
 - Sau đó match query sẽ tìm những document chứa các term đó, không yêu cầu chúng phải có cùng thứ tự hoặc kề nhau.

Nó sẽ tương ứng với term như sau:  

```bash
GET products/_search
{
  "query": {
    "bool": {
      "should": [
        {"term": {"name.keyword": "Product"}}, 
        {"term": {"name.keyword": "21"}} 
      ]
    }
  }
}
```


**2.2. Sử dụng match query works.**  

```bash
    GET products/_search
    {
      "query": {
        "match": {
          "name.keyword": {
            "query": "Product 21",
               "operator": "and"
          }
        }
      }
    }

```
`operator` sử dụng 2 key chính là `OR và AND`
 - Theo mặc định, match query sử dụng operator "OR" để kết hợp các keywords  
 - Tương đương với "Product OR 21"
 - Nghĩa là chỉ cần có một trong các từ khóa xuất hiện là document sẽ được match.
 - Tuy nhiên nếu thêm "operator": "and" thì các keywords sẽ được kết hợp bằng AND: "Product AND 21"
 - Lúc này document chỉ match khi có đủ Cả 2 từ khóa trên.

**2.3. Fuzziness in the match query.**  
`fuzziness:` Cho phép match mức độ mờ (fuzzy) giữa các từ khóa truy vấn và các từ trong document. Ví dụ "AUTO" sẽ tự động xác định mức độ fuzzy match phù hợp.

```bash
    GET products/_search
    {
      "query": {
        "match": {
          "name": {
            "query": "productss",
            "fuzziness": "AUTO"
          }
        }
      }
    }

```
Cho phép match mờ các từ khóa, chấp nhận sai sót nhỏ trong chính tả, ví dụ từ khoá `products` nhưng tìm `productss` vẫn ra.    

**2.4. Zero terms query.**  
`zero_terms_query:` Xác định hành vi khi không có từ khóa nào trong truy vấn có mặt trong document. "all" có nghĩa là vẫn trả về tất cả document.

```bash
GET products/_search
{
  "query": {
    "match": {
      "name": {
        "query": "",
        "zero_terms_query": "all",
        "operator": "and"
      }
    }
  }
}

```
Có nghĩa là nếu không nhập gì thì hệ thống sẽ trả về rỗng

**2.5. Synonyms.**  
`auto_generate_synonyms_phrase_query:` Cho phép tự động tạo các synonym và phrase query từ các từ khóa truy vấn để mở rộng kết quả tìm kiếm. Giá trị false sẽ tắt tính năng này.

```bash
GET products/_search
{
  "query": {
    "match": {
      "name": {
        "query": "new york city",
        "auto_generate_synonyms_phrase_query": false
      }
    }
  }
}


```
Phần này có nghĩa là cho phép tìm các từ khóa tương tự có liên quan.

## Phần 3. Match boolean prefix query.  

`"match_bool_prefix":`

```bash
    GET products/_search
    {
      "query": {
        "match_bool_prefix" : {
          "name" : "product p"
        }
      }
    }
 ```

`"match_bool_prefix":` thì tương tự như match chỉ là nó tự động lấy từ khóa cuối cùng dùng prefix để tìm kiếm.

Nó sẽ tương ứng với term như sau: 
```bash
GET /_search
{
  "query": {
    "bool" : {
      "should": [
        { "term": { "message": "product" }},
        { "prefix": { "message": "p"}}
      ]
    }
  }
}
```

`analyzer`  -------- Cần tìm hiểu thêm

```bash
  GET products/_search
  {
    "query": {
      "match_bool_prefix": {
        "desc": {
          "query": "bad",
          "analyzer": "keyword"
        }
      }
    }
  }
```

Có 2 trường hợp:  
1. `analyzer: keyword` 
2. `analyzer: standard`
